<div class="container" style="margin-top: 50px;">
  <div class="row">
    <div class="col">
      <p class="text-end"><span>Hola {{usuario}}! </span><a
          href="/admin/login/logout" class="btn btn-danger"
       >Cerrar Sesión <i class="fas fa-sign-out-alt"></i></a></p>
    </div>
  </div>

  <div class="row">
    <div class="col-7">
      <h2>Listado de Novedades</h2>
    </div>
    <div class="col-5 text-end">
      <a href="/admin/novedades/agregar" class="btn btn-primary">Nuevo <i class="fas fa-plus"></i></a>
    </div>
  </div>

  <div class="row">
    <div class="col">
      <table class="table">
        <thead>
          <tr class="table-active">
            <th scope="col">#</th>
            <th scope="col">Titulo</th>
            <th scope="col">Imagen</th>
            <th scope="col" class="text-end">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {{#each novedades}}
          <tr>
            <th scope="row">{{id}}</th>
            <td>{{titulo}}</td>
            <td><img src="{{imagen}}" alt=""></td>
            <td class="text-end">
              <a href="/admin/novedades/modificar/{{id}}" class="btn btn-secondary"><i
                  class="fas fa-edit"></i></a>
              <a onclick="confirmarEliminar({{id}})" class="btn btn-secondary"><i
                  class="fas fa-trash-alt"></i></a>
            </td>
          </tr>
          {{/each}}

          <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.0/dist/sweetalert2.all.min.js"></script>

          <script>
              function confirmarEliminar(id){
                  Swal.fire({
                      title: '¿Está seguro que desea eliminar la novedad?',
                      text:"Una vez borrada, no se puede recuperar",
                      icon: 'warning',
                      showCancelButton: true,
                      confirmButtonColor: '#3085d6',
                      cancelButtonColor: '#d33',
                      confirmButtonText: 'Confirmar'
                  }).then((result) => {
                      if (result.isConfirmed) {
                      Swal.fire(
                              'Eliminado',
                              'Su novedad ha sido eliminada',
                              'success'
                              )  
                      setTimeout(()=> {window.location = '/admin/novedades/eliminar/' + id},1600)                              
                      }
                  })
              }
          </script>      
        </tbody>
      </table>
    </div>
  </div>
</div>